<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Red Herring Initiative – Complaint Intake</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 700px;
      margin: 40px auto;
      background: #ffffff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    #messages {
      height: 400px;
      overflow-y: auto;
      border: 1px solid #ddd;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 4px;
    }

    .bot {
      margin-bottom: 10px;
      color: #003366;
    }

    .user {
      margin-bottom: 10px;
      color: #000;
      text-align: right;
    }

    .input-row {
      display: flex;
      gap: 10px;
    }

    input {
      flex: 1;
      padding: 10px;
      font-size: 16px;
    }

    button {
      padding: 10px 16px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Red Herring Initiative – Complaint Intake</h1>

    <div id="messages"></div>

    <div class="input-row">
      <input
        id="userInput"
        type="text"
        placeholder="Type your response here..."
        autocomplete="off"
      />
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <script>
    const messages = document.getElementById("messages");
    const input = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");

    const questions = [
      "Hello, I am Helyah, your Red Herring Intake Assistant. What is your full name?",
      "Please describe the incident you are reporting.",
      "Which agency or officer was involved?",
      "What was the date of the incident?",
      "Where did the incident occur?",
      "Do you believe your civil rights were violated?",
      "Do you have evidence such as photos, witnesses, or documents?",
      "What is your phone number so a director can contact you?",
      "What is your email address?",
      "Would you like a live director to call you immediately?"
    ];

    let step = 0;

    function addMessage(sender, text) {
      const div = document.createElement("div");
      div.className = sender;
      div.innerHTML =
        "<strong>" +
        (sender === "bot" ? "Helyah" : "You") +
        ":</strong> " +
        text;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }

    function askNextQuestion() {
      if (step < questions.length) {
        addMessage("bot", questions[step]);
      } else {
        addMessage(
          "bot",
          "Thank you. Your complaint has been recorded. A director will follow up."
        );
        input.disabled = true;
        sendBtn.disabled = true;
      }
    }

    sendBtn.addEventListener("click", submitAnswer);
    input.addEventListener("keypress", function (e) {
      if (e.key === "Enter") submitAnswer();
    });

    function submitAnswer() {
      const text = input.value.trim();
      if (!text) return;

      addMessage("user", text);
      input.value = "";
      step++;
      askNextQuestion();
    }

    // Start intake
    askNextQuestion();
  </script>
</body>
</html>
